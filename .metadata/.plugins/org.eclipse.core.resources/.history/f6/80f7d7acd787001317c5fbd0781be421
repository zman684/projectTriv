#include "Question.h"
#include <fstream>

Question::Question(std::string text, int level,
		std::vector<std::string> answers, int rAnswer) {
	Question::text = text;
	Question::level = level;
	Question::answers = answers;
	Question::rightAnswer = rAnswer;
}

std::vector<Question> Question::getQuestions(std::string path) {
	std::string line;
	std::vector<Question> q;
	std::ifstream myfile(path);
	//4 steps for con
	std::string sum;
	std::string text;
	int level ;
	std::vector<std::string> answers;
	int rAnswer;
	//counter
	int count = 0;
	if (myfile.is_open()) {
		while (std::getline(myfile, line)) {
			for(int i = 0; i < line.length(); i++){
				if(line.at(i) == '['){
					if(line.at(i) == '/' || line.at(i) == ']'){
						answers.push_back(sum);
						std::cout << sum << std::endl;
						sum = "";
					}else{
						sum += line.at(i);
					}
				}else if(line.at(i) == ','){
					if(count == 0){
						text = sum;
						std::cout << sum << std::endl;
					}else if(count == 1){
						level = atoi(sum.c_str());
						std::cout << sum << std::endl;
					}else if(count == 2){
					}else if(count == 3){
						rAnswer = atoi(sum.c_str());
						std::cout << sum << std::endl;
					}
					count++;
					sum = "";
				}else{
					sum += line.at(i);
				}
			}
		}
		myfile.close();
	}
	std::vector<std::string> b(4);
	b.push_back("hello");
	b.push_back("helllo");
	Question a("hello", 1, b, 0);
	q.push_back(a);
	return q;
}
